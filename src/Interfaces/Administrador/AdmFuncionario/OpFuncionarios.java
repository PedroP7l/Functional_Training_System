/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Interfaces.Administrador.AdmFuncionario;

import java.awt.Image;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import objetos.Administrativo;
import objetos.Funcionario;
import objetos.Instrutor;
import objetos.Nutricionista;
import objetos_dao.AdministrativoDAO;
import objetos_dao.FuncionarioDAO;
import objetos_dao.InstrutorDAO;
import objetos_dao.NutricionistaDAO;

/**
 *
 * @author Marco Antônio
 */
public class OpFuncionarios extends javax.swing.JPanel {

    FuncionarioDAO funcionarioBanco = new FuncionarioDAO();
    AdministrativoDAO administrativoBanco = new AdministrativoDAO();
    InstrutorDAO instrutorBanco = new InstrutorDAO();
    NutricionistaDAO nutricionistaBanco = new NutricionistaDAO();
    
    public static Funcionario tempFunc = new Funcionario();
    public static int indice = -1;
    public OpFuncionarios() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        TabelaPesquisaFunc = new javax.swing.JPanel();
        PesquisarFunc = new javax.swing.JButton();
        pesquisarFunc = new javax.swing.JTextField();
        ScrollTabelaFunc = new javax.swing.JScrollPane();
        TabelaFunc = new javax.swing.JTable();
        LimparFunc = new javax.swing.JButton();
        Titulo = new javax.swing.JLabel();
        TelaFunc = new javax.swing.JTabbedPane();
        AbaFunc = new javax.swing.JPanel();
        fotoFunc = new javax.swing.JLabel();
        TelefoneFunc = new javax.swing.JLabel();
        telefoneFunc = new javax.swing.JLabel();
        EmailFunc = new javax.swing.JLabel();
        emailFunc = new javax.swing.JLabel();
        NomeFunc = new javax.swing.JLabel();
        nomeFunc = new javax.swing.JLabel();
        CPFFunc = new javax.swing.JLabel();
        cpfFunc = new javax.swing.JLabel();
        CargoFunc = new javax.swing.JLabel();
        cargoFunc = new javax.swing.JLabel();
        SalarioFunc = new javax.swing.JLabel();
        salarioFunc = new javax.swing.JLabel();
        AbaCadFunc = new javax.swing.JPanel();
        fotoCadFunc = new javax.swing.JLabel();
        NomeCadFunc = new javax.swing.JLabel();
        nomeCadFunc = new javax.swing.JTextField();
        CPFCadFunc = new javax.swing.JLabel();
        SalarioCadFunc = new javax.swing.JLabel();
        CargoCadFunc = new javax.swing.JLabel();
        cargoCadFunc = new javax.swing.JComboBox<>();
        TelefoneCadFunc = new javax.swing.JLabel();
        telefoneCadFunc = new javax.swing.JTextField();
        EmailCadFunc = new javax.swing.JLabel();
        emailCadFunc = new javax.swing.JTextField();
        CadastrarFunc = new javax.swing.JButton();
        EditarFunc = new javax.swing.JButton();
        ExcluirFunc = new javax.swing.JButton();
        EspecCadFunc = new javax.swing.JLabel();
        especialidadeCadFunc = new javax.swing.JTextField();
        cpfCadFunc = new javax.swing.JFormattedTextField();
        salarioCadFunc = new javax.swing.JFormattedTextField();

        setPreferredSize(new java.awt.Dimension(900, 618));
        addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                formAncestorAdded(evt);
            }
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        TabelaPesquisaFunc.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        PesquisarFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        PesquisarFunc.setText("Pesquisar");
        PesquisarFunc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                PesquisarFuncActionPerformed(evt);
            }
        });

        pesquisarFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        pesquisarFunc.setPreferredSize(new java.awt.Dimension(74, 32));

        TabelaFunc.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        TabelaFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        TabelaFunc.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Nome", "CPF", "Salário", "Cargo"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        TabelaFunc.setToolTipText("");
        TabelaFunc.setAlignmentX(1.0F);
        TabelaFunc.setAlignmentY(1.0F);
        TabelaFunc.setRowHeight(28);
        TabelaFunc.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                TabelaFuncMouseClicked(evt);
            }
        });
        ScrollTabelaFunc.setViewportView(TabelaFunc);

        LimparFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        LimparFunc.setText("Limpar");
        LimparFunc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                LimparFuncActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout TabelaPesquisaFuncLayout = new javax.swing.GroupLayout(TabelaPesquisaFunc);
        TabelaPesquisaFunc.setLayout(TabelaPesquisaFuncLayout);
        TabelaPesquisaFuncLayout.setHorizontalGroup(
            TabelaPesquisaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(TabelaPesquisaFuncLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(PesquisarFunc)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pesquisarFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 154, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(LimparFunc)
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, TabelaPesquisaFuncLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(ScrollTabelaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 894, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        TabelaPesquisaFuncLayout.setVerticalGroup(
            TabelaPesquisaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(TabelaPesquisaFuncLayout.createSequentialGroup()
                .addGroup(TabelaPesquisaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(PesquisarFunc)
                    .addComponent(pesquisarFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(LimparFunc))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 16, Short.MAX_VALUE)
                .addComponent(ScrollTabelaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 186, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        Titulo.setFont(new java.awt.Font("Impact", 0, 30)); // NOI18N
        Titulo.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        Titulo.setText("Gerenciar funcionários");

        TelaFunc.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N

        AbaFunc.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        fotoFunc.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        TelefoneFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        TelefoneFunc.setText("Telefone:");

        telefoneFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        telefoneFunc.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        telefoneFunc.setText(" ");
        telefoneFunc.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        EmailFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        EmailFunc.setText("Email:");

        emailFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        emailFunc.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        emailFunc.setText(" ");
        emailFunc.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        NomeFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        NomeFunc.setText("Nome:");

        nomeFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        nomeFunc.setText(" ");

        CPFFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        CPFFunc.setText("CPF:");

        cpfFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        cpfFunc.setText(" ");

        CargoFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        CargoFunc.setText("Cargo:");

        cargoFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        cargoFunc.setText(" ");

        SalarioFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        SalarioFunc.setText("Salário");

        salarioFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        salarioFunc.setText(" ");

        javax.swing.GroupLayout AbaFuncLayout = new javax.swing.GroupLayout(AbaFunc);
        AbaFunc.setLayout(AbaFuncLayout);
        AbaFuncLayout.setHorizontalGroup(
            AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AbaFuncLayout.createSequentialGroup()
                .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(AbaFuncLayout.createSequentialGroup()
                        .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(AbaFuncLayout.createSequentialGroup()
                                .addGap(99, 99, 99)
                                .addComponent(fotoFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(AbaFuncLayout.createSequentialGroup()
                                .addGap(67, 67, 67)
                                .addComponent(telefoneFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(54, 54, 54)
                        .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(AbaFuncLayout.createSequentialGroup()
                                .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(CPFFunc)
                                    .addComponent(CargoFunc))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(AbaFuncLayout.createSequentialGroup()
                                        .addComponent(cargoFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(SalarioFunc)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(salarioFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(cpfFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(AbaFuncLayout.createSequentialGroup()
                                .addComponent(NomeFunc)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(nomeFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 346, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(AbaFuncLayout.createSequentialGroup()
                        .addGap(116, 116, 116)
                        .addComponent(TelefoneFunc))
                    .addGroup(AbaFuncLayout.createSequentialGroup()
                        .addGap(38, 38, 38)
                        .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(AbaFuncLayout.createSequentialGroup()
                                .addGap(89, 89, 89)
                                .addComponent(EmailFunc))
                            .addComponent(emailFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 233, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(198, Short.MAX_VALUE))
        );
        AbaFuncLayout.setVerticalGroup(
            AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AbaFuncLayout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(fotoFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(AbaFuncLayout.createSequentialGroup()
                        .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(NomeFunc)
                            .addComponent(nomeFunc))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(CPFFunc)
                            .addComponent(cpfFunc))
                        .addGap(5, 5, 5)))
                .addGap(6, 6, 6)
                .addGroup(AbaFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(TelefoneFunc)
                    .addComponent(CargoFunc)
                    .addComponent(cargoFunc)
                    .addComponent(SalarioFunc)
                    .addComponent(salarioFunc))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(telefoneFunc)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(EmailFunc)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(emailFunc)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        TelaFunc.addTab("Funcionários", AbaFunc);

        AbaCadFunc.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        fotoCadFunc.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));

        NomeCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        NomeCadFunc.setText("Nome:");

        nomeCadFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        nomeCadFunc.setPreferredSize(new java.awt.Dimension(74, 32));

        CPFCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        CPFCadFunc.setText("CPF:");

        SalarioCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        SalarioCadFunc.setText("Salário:");

        CargoCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        CargoCadFunc.setText("Cargo:");

        cargoCadFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        cargoCadFunc.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Administrativo", "Instrutor", "Nutricionista" }));

        TelefoneCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        TelefoneCadFunc.setText("Telefone:");

        telefoneCadFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        telefoneCadFunc.setPreferredSize(new java.awt.Dimension(74, 32));

        EmailCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        EmailCadFunc.setText("Email:");

        emailCadFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        emailCadFunc.setPreferredSize(new java.awt.Dimension(74, 32));

        CadastrarFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        CadastrarFunc.setText("Cadastrar");
        CadastrarFunc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                CadastrarFuncActionPerformed(evt);
            }
        });

        EditarFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        EditarFunc.setText("Editar");
        EditarFunc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                EditarFuncActionPerformed(evt);
            }
        });

        ExcluirFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        ExcluirFunc.setText("Excluir");
        ExcluirFunc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ExcluirFuncActionPerformed(evt);
            }
        });

        EspecCadFunc.setFont(new java.awt.Font("Impact", 0, 18)); // NOI18N
        EspecCadFunc.setText("Especialidade:");

        especialidadeCadFunc.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        especialidadeCadFunc.setPreferredSize(new java.awt.Dimension(74, 32));

        try {
            cpfCadFunc.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("###.###.###-##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        salarioCadFunc.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0.00"))));

        javax.swing.GroupLayout AbaCadFuncLayout = new javax.swing.GroupLayout(AbaCadFunc);
        AbaCadFunc.setLayout(AbaCadFuncLayout);
        AbaCadFuncLayout.setHorizontalGroup(
            AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AbaCadFuncLayout.createSequentialGroup()
                .addGap(57, 57, 57)
                .addComponent(fotoCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(40, 40, 40)
                .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AbaCadFuncLayout.createSequentialGroup()
                        .addComponent(EspecCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(especialidadeCadFunc, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(19, 19, 19)
                        .addComponent(SalarioCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(salarioCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AbaCadFuncLayout.createSequentialGroup()
                        .addGap(0, 1, Short.MAX_VALUE)
                        .addComponent(TelefoneCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(telefoneCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(EmailCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(emailCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 204, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(AbaCadFuncLayout.createSequentialGroup()
                        .addComponent(NomeCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(nomeCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 283, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(AbaCadFuncLayout.createSequentialGroup()
                        .addComponent(CPFCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(cpfCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(CargoCadFunc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cargoCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 166, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(72, 72, 72)
                .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ExcluirFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(CadastrarFunc)
                    .addComponent(EditarFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(72, 72, 72))
        );
        AbaCadFuncLayout.setVerticalGroup(
            AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(AbaCadFuncLayout.createSequentialGroup()
                .addGap(37, 37, 37)
                .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(fotoCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(AbaCadFuncLayout.createSequentialGroup()
                            .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(NomeCadFunc)
                                .addComponent(nomeCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGap(18, 18, 18)
                            .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(AbaCadFuncLayout.createSequentialGroup()
                                    .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(CPFCadFunc)
                                        .addComponent(cpfCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGap(16, 16, 16))
                                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AbaCadFuncLayout.createSequentialGroup()
                                    .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(CargoCadFunc)
                                        .addComponent(cargoCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGap(18, 18, 18)))
                            .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(salarioCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(AbaCadFuncLayout.createSequentialGroup()
                                        .addGap(6, 6, 6)
                                        .addComponent(SalarioCadFunc)))
                                .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(EspecCadFunc)
                                    .addComponent(especialidadeCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGap(18, 18, 18)
                            .addGroup(AbaCadFuncLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(TelefoneCadFunc)
                                .addComponent(telefoneCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(EmailCadFunc)
                                .addComponent(emailCadFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, AbaCadFuncLayout.createSequentialGroup()
                            .addComponent(CadastrarFunc)
                            .addGap(18, 18, 18)
                            .addComponent(EditarFunc)
                            .addGap(18, 18, 18)
                            .addComponent(ExcluirFunc)
                            .addGap(8, 8, 8))))
                .addContainerGap(52, Short.MAX_VALUE))
        );

        TelaFunc.addTab("Controle", AbaCadFunc);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(TabelaPesquisaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addComponent(TelaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 900, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGroup(layout.createSequentialGroup()
                .addGap(178, 178, 178)
                .addComponent(Titulo, javax.swing.GroupLayout.PREFERRED_SIZE, 529, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(0, 22, Short.MAX_VALUE)
                .addComponent(Titulo, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TelaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TabelaPesquisaFunc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void PesquisarFuncActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_PesquisarFuncActionPerformed
        try {
            // Botão Pesquisar Funcionário
            
            DefaultTableModel TF = (DefaultTableModel) TabelaFunc.getModel();
            TF.setNumRows(0);
            
            ArrayList<Funcionario> funcionarios = funcionarioBanco.getLista();
            
            for (Funcionario f : funcionarios) {
                if(f.getCPF().contains(pesquisarFunc.getText()) || f.getNome().contains(pesquisarFunc.getText()))
                    TF.addRow(new Object[]{
                        f.getNome(),
                        f.getCPF(),
                        f.getSalario(),
                        f.getTipo(),});
            }
        } catch (Exception ex) {
            Logger.getLogger(OpFuncionarios.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_PesquisarFuncActionPerformed

    private void TabelaFuncMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_TabelaFuncMouseClicked
        // Ao Clicar na Tabela

        indice = TabelaFunc.getSelectedRow();       

        try {
            tempFunc =  funcionarioBanco.getFuncionario(TabelaFunc.getValueAt(indice, 1).toString());
            if (indice >= 0 && tempFunc != null) {

                //Funcionário
                nomeFunc.setText(tempFunc.getNome());
                cpfFunc.setText(tempFunc.getCPF());
                cargoFunc.setText(tempFunc.getTipo());

                salarioFunc.setText(String.valueOf(tempFunc.getSalario()));
                telefoneFunc.setText(tempFunc.getTelefone());
                emailFunc.setText(tempFunc.getEmail());

                fotoFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));

                //Controle
                nomeCadFunc.setText(tempFunc.getNome());
                cpfCadFunc.setText(tempFunc.getCPF());

                switch(tempFunc.getTipo()){

                    case "Administrativo":
                    cargoCadFunc.setSelectedItem("Administrativo");
                    break;

                    case "Nutricionista":
                    cargoCadFunc.setSelectedItem("Nutricionista");
                    break;

                    case "Instrutor":
                    cargoCadFunc.setSelectedItem("Instrutor");
                    break;

                }
                especialidadeCadFunc.setText(tempFunc.getEspecialidade());
                salarioCadFunc.setValue(tempFunc.getSalario());
                telefoneCadFunc.setText(tempFunc.getTelefone());
                emailCadFunc.setText(tempFunc.getEmail());

                fotoCadFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));

                cpfCadFunc.setEditable(false);
                cargoCadFunc.setEnabled(false);

                CadastrarFunc.setEnabled(false);
                EditarFunc.setEnabled(true);
                ExcluirFunc.setEnabled(true);

                //Recibo

                //alarioRecFunc.setText(String.valueOf(mestre.funcionarios.get(indice).salario));
                //cargoRecFunc.setText(mestre.funcionarios.get(indice).cargo);

            } else {

                JOptionPane.showMessageDialog(null, "Selecione o Funcionário na Tabela!!!");
                indice = -1;
            }

        } catch (NumberFormatException | IndexOutOfBoundsException e) {
            JOptionPane.showMessageDialog(null, "Selecione um Funcionário Valido!!!");
            indice = -1;
        } catch (Exception ex) {
            Logger.getLogger(OpFuncionarios.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_TabelaFuncMouseClicked

    private void LimparFuncActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_LimparFuncActionPerformed

        Limpar();
    }//GEN-LAST:event_LimparFuncActionPerformed

    private void CadastrarFuncActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CadastrarFuncActionPerformed
        // Botão Cadastrar
        try {

            boolean i = true;
            tempFunc = new Funcionario();

            if( nomeCadFunc.getText().isBlank() ||
                cpfCadFunc.getText().isBlank() ||
                salarioCadFunc.getValue().toString().isBlank() ||
                especialidadeCadFunc.getText().isBlank() ||
                telefoneCadFunc.getText().isBlank() ||
                !isValidEmailAddress(emailCadFunc.getText()))
                throw new Exception("Verifique se todos os campos estão preenchidos e se o email é válido");

            tempFunc.setNome(nomeCadFunc.getText());
            tempFunc.setCPF(cpfCadFunc.getText());
            tempFunc.setSalario(Float.valueOf(salarioCadFunc.getValue().toString()));
            tempFunc.setEspecialidade(especialidadeCadFunc.getText());
            tempFunc.setTelefone(telefoneCadFunc.getText());
            tempFunc.setEmail(emailCadFunc.getText());
            tempFunc.setSenha("123456");

            ArrayList<Funcionario> funcionarios = funcionarioBanco.getLista();

            for (Funcionario f : funcionarios ) {

                if (f.getCPF().equals(cpfCadFunc.getText())) {

                    JOptionPane.showMessageDialog(null, "Funcionário já Existente!!!");
                    i = false;
                }
            }

            if (i || funcionarios.isEmpty()) {

                switch(cargoCadFunc.getSelectedItem().toString()){

                    case "Administrativo":
                    administrativoBanco.adiciona(new Administrativo(tempFunc));
                    break;

                    case "Nutricionista":
                    nutricionistaBanco.adiciona(new Nutricionista(tempFunc));
                    break;

                    case "Instrutor":
                    instrutorBanco.adiciona(new Instrutor(tempFunc));
                    break;

                }

                JOptionPane.showMessageDialog(null, "Funcionário Cadastrado com Sucesso!");
                AtualizaTabela();
            }

        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, e.getMessage());
        }
    }//GEN-LAST:event_CadastrarFuncActionPerformed

    private void EditarFuncActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_EditarFuncActionPerformed
        // Botão Editar Funcionario

        try {
            if( tempFunc == null ||
                nomeCadFunc.getText().isBlank() ||
                cpfCadFunc.getText().isBlank() ||
                salarioCadFunc.getValue().toString().isBlank() ||
                especialidadeCadFunc.getText().isBlank() ||
                telefoneCadFunc.getText().isBlank() ||
                !isValidEmailAddress(emailCadFunc.getText()))
                throw new Exception();

            tempFunc.setNome(nomeCadFunc.getText());
            tempFunc.setSalario(Float.valueOf(salarioCadFunc.getValue().toString()));
            tempFunc.setEspecialidade(especialidadeCadFunc.getText());
            tempFunc.setTelefone(telefoneCadFunc.getText());
            tempFunc.setEmail(emailCadFunc.getText());
            tempFunc.setSenha(null);

            EditFuncAlerta EFA = new EditFuncAlerta(funcionarioBanco.getLista().get(indice), tempFunc, this);
            EFA.setVisible(true);
            
        } catch (Exception e) {

            JOptionPane.showMessageDialog(null, "Selecione o Funcionário na Tabela e Preencha Todos os Campos Corretamente!!!");
            indice = -1;
            Logger.getLogger(OpFuncionarios.class.getName()).log(Level.SEVERE, null, e);
        }
    }//GEN-LAST:event_EditarFuncActionPerformed

    private void ExcluirFuncActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ExcluirFuncActionPerformed
        // Botão Excluir Funcionario

        try {

            if (indice >= 0 && !cpfCadFunc.getText().isEmpty()) {

                ExcFuncAlerta EFA = new ExcFuncAlerta(tempFunc, this);
                EFA.setVisible(true);
            }

        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, "Selecione o Funcionário Valido na Tabela!!!");
            indice = -1;
        }
    }//GEN-LAST:event_ExcluirFuncActionPerformed

    private void formAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_formAncestorAdded
        fotoCadFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));
        fotoFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));
        
        EditarFunc.setEnabled(false);
        ExcluirFunc.setEnabled(false);
        
        AtualizaTabela();
    }//GEN-LAST:event_formAncestorAdded

    public void Limpar(){
        nomeFunc.setText("");
        cpfFunc.setText("");
        cargoFunc.setText("");
        salarioFunc.setText("");
        telefoneFunc.setText("");
        emailFunc.setText("");

        fotoFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));

        //Controle
        nomeCadFunc.setText("");
        cpfCadFunc.setText("");
        cargoCadFunc.setSelectedItem(0);
        salarioCadFunc.setText("");
        especialidadeCadFunc.setText("");
        telefoneCadFunc.setText("");
        emailCadFunc.setText("");

        fotoCadFunc.setIcon(iconScale(new ImageIcon(getClass().getResource("/Imagens/Perfil.png"))));

        cpfCadFunc.setEditable(true);
        cargoCadFunc.setEnabled(true);
        
        CadastrarFunc.setEnabled(true);
        EditarFunc.setEnabled(false);
        ExcluirFunc.setEnabled(false);
        
        //Atualiza a Tabela
        AtualizaTabela();
    }
    
    public void AtualizaTabela() {

        try {
            DefaultTableModel TF = (DefaultTableModel) TabelaFunc.getModel();
            TF.setNumRows(0);
            
            ArrayList<Funcionario> funcionarios = funcionarioBanco.getLista();
            
            for (int i = 0; i <funcionarios.size(); i++) {
                
                TF.addRow(new Object[]{
                    funcionarios.get(i).getNome(),
                    funcionarios.get(i).getCPF(),
                    "R$ " + String.format("%.2f", funcionarios.get(i).getSalario()),
                    funcionarios.get(i).getTipo(),});
            }
        } catch (Exception ex) {
            Logger.getLogger(OpFuncionarios.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    
    public static ImageIcon iconScale(ImageIcon imageIcon){
        
        Image image = imageIcon.getImage(); // transform it 
        Image newimg = image.getScaledInstance(100, 110,  java.awt.Image.SCALE_SMOOTH); // scale it the smooth way  
        imageIcon = new ImageIcon(newimg);
        
        return imageIcon;
    }

    public boolean isValidEmailAddress(String email) {
           String ePattern = "^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$";
           java.util.regex.Pattern p = java.util.regex.Pattern.compile(ePattern);
           java.util.regex.Matcher m = p.matcher(email);
           return m.matches();
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel AbaCadFunc;
    private javax.swing.JPanel AbaFunc;
    private javax.swing.JLabel CPFCadFunc;
    private javax.swing.JLabel CPFFunc;
    private javax.swing.JButton CadastrarFunc;
    private javax.swing.JLabel CargoCadFunc;
    private javax.swing.JLabel CargoFunc;
    private javax.swing.JButton EditarFunc;
    private javax.swing.JLabel EmailCadFunc;
    private javax.swing.JLabel EmailFunc;
    private javax.swing.JLabel EspecCadFunc;
    private javax.swing.JButton ExcluirFunc;
    private javax.swing.JButton LimparFunc;
    private javax.swing.JLabel NomeCadFunc;
    private javax.swing.JLabel NomeFunc;
    private javax.swing.JButton PesquisarFunc;
    private javax.swing.JLabel SalarioCadFunc;
    private javax.swing.JLabel SalarioFunc;
    private javax.swing.JScrollPane ScrollTabelaFunc;
    private javax.swing.JTable TabelaFunc;
    private javax.swing.JPanel TabelaPesquisaFunc;
    private javax.swing.JTabbedPane TelaFunc;
    private javax.swing.JLabel TelefoneCadFunc;
    private javax.swing.JLabel TelefoneFunc;
    private javax.swing.JLabel Titulo;
    private javax.swing.JComboBox<String> cargoCadFunc;
    private javax.swing.JLabel cargoFunc;
    private javax.swing.JFormattedTextField cpfCadFunc;
    private javax.swing.JLabel cpfFunc;
    private javax.swing.JTextField emailCadFunc;
    private javax.swing.JLabel emailFunc;
    private javax.swing.JTextField especialidadeCadFunc;
    private javax.swing.JLabel fotoCadFunc;
    private javax.swing.JLabel fotoFunc;
    private javax.swing.JTextField nomeCadFunc;
    private javax.swing.JLabel nomeFunc;
    private javax.swing.JTextField pesquisarFunc;
    private javax.swing.JFormattedTextField salarioCadFunc;
    private javax.swing.JLabel salarioFunc;
    private javax.swing.JTextField telefoneCadFunc;
    private javax.swing.JLabel telefoneFunc;
    // End of variables declaration//GEN-END:variables
}
